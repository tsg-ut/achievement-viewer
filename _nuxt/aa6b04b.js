(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{370:function(t,e,n){var r=n(371),o=n(372);t.exports=function(t){return t&&t.length?r(t,o):0}},371:function(t,e){t.exports=function(t,e){for(var n,r=-1,o=t.length;++r<o;){var c=e(t[r]);void 0!==c&&(n=void 0===n?c:n+c)}return n}},372:function(t,e){t.exports=function(t){return t}},386:function(t,e,n){var content=n(432);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("de5b2dcc",content,!0,{sourceMap:!1})},431:function(t,e,n){"use strict";n(386)},432:function(t,e,n){var r=n(57)(!1);r.push([t.i,".achievements-count{white-space:nowrap}.achievements-progress{display:flex;align-items:center}.achievements-color{height:.3rem}.user-title{white-space:nowrap;overflow:hidden}",""]),t.exports=r},448:function(t,e,n){"use strict";n.r(e);n(33),n(26),n(29),n(43),n(44);var r=n(4),o=n(17),c=(n(22),n(38),n(34),n(45),n(30),n(15),n(31),n(111),n(373)),l=n.n(c),f=(n(370),n(51));n(110);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={data:function(){return{isLoading:!0}},computed:h(h({},Object(f.c)({userList:function(t){return t.users.list}})),{},{achievementDatum:function(){return this.$store.getters["achievementData/getById"](this.$route.params.id)},title:function(){return l()(this.achievementDatum,["title"],"")},condition:function(){return l()(this.achievementDatum,["condition"],"")},count:function(){return l()(this.achievementDatum,["count"],0)},counter:function(){return l()(this.achievementDatum,["counter"],null)},value:function(){return l()(this.achievementDatum,["value"],0)},difficulty:function(){return l()(this.achievementDatum,["difficulty"],"")},users:function(){var t=this,e=this.$store.getters["achievements/getByName"](this.$route.params.id).map((function(e){var n=e.name,r=e.date,o=e.user;return{name:n,date:r,user:t.$store.getters["slackInfos/getUser"](o)}})).sort((function(a,b){return a.date-b.date})).map((function(t){return t.user}));return e},sortedUserList:function(){var t=this;return this.userList.slice().sort((function(a,b){return(b[t.counter]||0)-(a[t.counter]||0)})).map((function(e){return{info:t.$store.getters["slackInfos/getUser"](e.id),count:e[t.counter],id:e.id}}))}}),fetch:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.store,e.next=4;break;case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;Promise.all([this.$store.dispatch("achievementData/initList"),this.$store.dispatch("achievements/fetchByName",this.$route.params.id),this.$store.dispatch("slackInfos/init"),this.$store.dispatch("users/initList")]).then((function(){t.isLoading=!1}))},methods:{getUserName:function(t){var e=l()(t,["profile","display_name"],!1)||l()(t,["real_name"],!1)||"匿名ユーザー";return"@".concat(e)},getUserIcon:function(t){return l()(t,["profile","image_24"],"/images/anonymous-icon_24.png")},getUserIcon2x:function(t){return l()(t,["profile","image_48"],"/images/anonymous-icon_48.png")},getUserIcon3x:function(t){return l()(t,["profile","image_72"],"/images/anonymous-icon_72.png")}},head:function(){return{title:"実績「".concat(this.title,"」 - achievement-viewer")}}},m=(n(431),n(12)),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.isLoading?n("progress",{staticClass:"progress is-small is-primary",attrs:{max:"100"}},[t._v("15%")]):t._e(),t._v(" "),n("UnauthorizedNotification"),t._v(" "),n("div",{staticClass:"box"},[n("h1",{staticClass:"title is-size-1"},[t._v(t._s(t.title)),n("DifficultyBadge",{attrs:{difficulty:t.difficulty}})],1),t._v(" "),n("h2",{staticClass:"subtitle"},[t._v(t._s(t.condition))])]),t._v(" "),n("div",{staticClass:"block"},[t._v(t._s(t.count)+"人が解除済み")]),t._v(" "),n("div",{staticClass:"block"},t._l(t.users,(function(e){return n("nuxt-link",{key:e.id,attrs:{to:"/users/"+e.id}},[n("img",{attrs:{src:t.getUserIcon3x(e)}})])})),1),t._v(" "),null!==t.counter?n("div",[n("h1",{staticClass:"title is-3"},[t._v("実績の達成状況")]),t._v(" "),n("div",{staticClass:"table-container"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("ユーザー")]),t._v(" "),n("th",{style:{width:"100%"}},[t._v("達成状況")]),t._v(" "),n("th")])]),t._v(" "),n("tbody",t._l(t.sortedUserList,(function(e){return n("tr",{key:e.id},[n("td",{style:{whiteSpace:"nowrap",maxWidth:"15rem",textOverflow:"ellipsis",overflow:"hidden"}},[n("nuxt-link",{attrs:{to:"/users/"+e.id}},[n("img",{staticClass:"index-icon",attrs:{src:t.getUserIcon(e.info),srcset:t.getUserIcon(e.info)+" 1x, "+t.getUserIcon2x(e.info)+" 2x"}}),t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.getUserName(e.info))+"\n\t\t\t\t\t\t\t")])],1),t._v(" "),n("td",{style:{minWidth:"15rem"}},[n("progress",{staticClass:"progress is-success",class:(e.count||0)>=t.value?"is-success":"is-warning",attrs:{max:t.value},domProps:{value:e.count||0}})]),t._v(" "),n("td",{style:{whiteSpace:"nowrap"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.count||0)+" / "+t._s(t.value)+"\n\t\t\t\t\t\t")])])})),0)])])]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UnauthorizedNotification:n(112).default,DifficultyBadge:n(110).default})}}]);